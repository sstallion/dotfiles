# paths - path configuration

# By default, path_helper(8) does not modify MANPATH unless it is
# defined in the environment. Darwin helpfully calls path_helper from
# /etc/zprofile, which forces us to call it once again to update paths.
if [ -x /usr/libexec/path_helper ]; then
	export MANPATH
	eval $(/usr/libexec/path_helper -s)
fi

function collect_paths {
	for arg; do
		if [ -r $arg ]; then
			while read line; do
				echo $(eval echo $line)
			done < $arg
		fi
	done
}

# Avoid the NULL_GLOB option as it also affects interactive sessions;
# see: http://unix.stackexchange.com/a/26825.
path=($(collect_paths $HOME/.paths $HOME/.paths.d/*(N)) $path)
manpath=($(collect_paths $HOME/.manpaths $HOME/.manpaths.d/*(N)) $manpath)

# vim: ft=zsh
